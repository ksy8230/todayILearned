{"componentChunkName":"component---src-templates-blog-post-js","path":"/docker/docker-compose/","result":{"data":{"site":{"siteMetadata":{"title":"ksy8230.github.io"}},"markdownRemark":{"id":"143ab3ac-c5fb-546a-9b9a-d86db8f5d3a2","excerpt":"도커 컴포즈가 무엇인지 궁금해 다시 생활코딩을 찾아갔다. 도커 컴포즈는 쉽게 말하면 shell…","html":"<p>도커 컴포즈가 무엇인지 궁금해 다시 생활코딩을 찾아갔다.<br>\n도커 컴포즈는 쉽게 말하면 shell에서 치는 복잡한 설치 명령어들을 파일 하나에 담아</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">docker-compose up</code></pre></div>\n<p>이 한줄로 설치를 완료시키는 기능을 해주는 패키지 파일이다.<br>\n해당 강의는 설치형 블로그인 워드프레스를 이용해 예시를 들어 설명해 준다.</p>\n<h3 id=\"예시-시나리오\" style=\"position:relative;\">예시 시나리오<a href=\"#%EC%98%88%EC%8B%9C-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4\" aria-label=\"예시 시나리오 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>아래와 같은 환경을 도커를 이용해 워드프레스를 만든다고 가정하자.<br>\n워드프레스 컨테이너가 존재하고 mysql 컨테이너가 존재할 것이다. 그리고 웹브라우저를 통해 워드프레스에 접근하면 워드프레스에 연결된 mysql에서 특정 작업을 처리하고 그 결과를 워드프레스에게 가져온 뒤 다시 웹브라우저에게 응답할 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/570dec95b68427bd6a6bb7634d9ce6bf/e8a7f/image1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQC/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABvwFAP//EABoQAAICAwAAAAAAAAAAAAAAAAIDAAQBEhP/2gAIAQEAAQUCri0Zq7pWwYr/AP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB4QAAEDBAMAAAAAAAAAAAAAAAEAAhIDERMjIVFh/9oACAEBAAY/AnZHy6VXZwQY+LY6Ruv/xAAaEAACAwEBAAAAAAAAAAAAAAAAEQExQSFR/9oACAEBAAE/IZi4nTRD7EHbBF9k3w//2gAMAwEAAgADAAAAEPAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQACAwEAAAAAAAAAAAAAEQEAMSFBYYH/2gAIAQEAAT8QpZoBbK7kOsfYKXU2Dg+5f89WN0EbJ7n/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"도커\"\n        title=\"도커\"\n        src=\"/static/570dec95b68427bd6a6bb7634d9ce6bf/828fb/image1.jpg\"\n        srcset=\"/static/570dec95b68427bd6a6bb7634d9ce6bf/ff44c/image1.jpg 158w,\n/static/570dec95b68427bd6a6bb7634d9ce6bf/a6688/image1.jpg 315w,\n/static/570dec95b68427bd6a6bb7634d9ce6bf/828fb/image1.jpg 630w,\n/static/570dec95b68427bd6a6bb7634d9ce6bf/0ede0/image1.jpg 945w,\n/static/570dec95b68427bd6a6bb7634d9ce6bf/e8a7f/image1.jpg 1138w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"shell로-설치\" style=\"position:relative;\">shell로 설치<a href=\"#shell%EB%A1%9C-%EC%84%A4%EC%B9%98\" aria-label=\"shell로 설치 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>도커 컴포즈가 없다면 아래와 같은 설치 명령어를 사용해 위 시나리오 환경을 구성할 수 있을 것이다.</p>\n<ol>\n<li>\n<p>wordpress_net이라는 도커 네트워크 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">docker</span> network create wordpress_net</code></pre></div>\n<ul>\n<li>app 컨테이너와 db 컨테이너는 서로 정보를 주고 받을 네트워크가 필요하다</li>\n<li>wordpress_net을 설치하면 app 컨테이너와 db 컨테이너의 호스트를 ip가 아닌 이름으로 사용 가능하게 해준다</li>\n</ul>\n</li>\n<li>\n<p>db 컨테이너 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">docker</span> <span class=\"token punctuation\">\\</span>\r\nrun <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">--name</span> <span class=\"token string\">\"db\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-v</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>/db_data:/var/lib/mysql\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"MYSQL_ROOT_PASSWORD=123456\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"MYSQL_DATABASE=wordpress\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"MYSQL_USER=wordpress_user\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"MYSQL_PASSWORD=123456\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">--network</span> wordpress_net <span class=\"token punctuation\">\\</span>\r\nmysql:5.7\r\n</code></pre></div>\n<ul>\n<li>db라는 이름의 컨테이너가 생성되고 호스트의 $(현재 위치)/db_data 폴더와 컨테이너의 /var/lib/mysql 폴더를 연결한 뒤 mysql 접속을 위한 정보들을 환경변수를 이용해 적어준다. 그리고 앞서 설치한 도커 네트워크로 만든 wordpress_net에 연결한다.</li>\n</ul>\n</li>\n<li>\n<p>app 컨테이너 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">docker</span> <span class=\"token punctuation\">\\</span>\r\n    run <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">--name</span> app <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-v</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>/app_data:/var/www/html\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"WORDPRESS_DB_HOST=db\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"WORDPRESS_DB_USER=wordpress_user\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"WORDPRESS_DB_NAME=wordpress\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"WORDPRESS_DB_PASSWORD=123456\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"WORDPRESS_DEBUG=1\"</span> <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8080</span>:80 <span class=\"token punctuation\">\\</span>\r\n    <span class=\"token parameter variable\">--network</span> wordpress_net <span class=\"token punctuation\">\\</span>\r\nwordpress:latest</code></pre></div>\n<ul>\n<li>app 이라는 이름의 컨테이너가 생성되고 호스트의 $(현재 위치)/app_data 폴더와 컨테이너의 /var/www/html 폴더를 연결한 뒤 db 컨테이너에 접속할 정보들을 환경변수를 이용해 적어준다. 그리서 앞서 설치한 도커 네트워크로 만든 wordpress_net에 연결한다.</li>\n<li><strong>app 컨테이너에 80포트와 호스트의 8080포트를 연결하여 웹 브라우저에서 접근 가능하도록 한다.</strong> 이말인 즉, db 컨테이너는 호스트의 어떤 포트와도 연결되어 있지 않고 app 컨테이너만 연결이 가능하여 보안상 안전해 진다.</li>\n</ul>\n</li>\n</ol>\n<p>설치가 완료된 환경 구성을 시각적 자료로 표현하자면 아래와 같을 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9366721452576d77bcbd07ca5e9cd8b1/b0abb/image2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100.63291139240506%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHu054HTQGCIWg//8QAGxAAAgMAAwAAAAAAAAAAAAAAAQIAERIDEyH/2gAIAQEAAQUCuAHc5tFirdAMZdTAoeD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABBAMBAAAAAAAAAAAAAAAAAhESIQEQUYH/2gAIAQEABj8CJZVXG1iL+CU3J9W5Gxj/xAAbEAEBAQEAAwEAAAAAAAAAAAABEQAhMUFhsf/aAAgBAQABPyFNmExK8CcNwT4g2s2zzHvf3B3C6q+M1O0H3uUB63//2gAMAwEAAgADAAAAEBAHAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB4QAQEAAgICAwAAAAAAAAAAAAERACExQVFxkaHB/9oACAEBAAE/EIptR3LxjMQbCL5bv4wRrKJhYArQ7MoVC0NK8vsd52Hf4YFIBN9e5kBUaI/tiMGCFd5//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"도커\"\n        title=\"도커\"\n        src=\"/static/9366721452576d77bcbd07ca5e9cd8b1/828fb/image2.jpg\"\n        srcset=\"/static/9366721452576d77bcbd07ca5e9cd8b1/ff44c/image2.jpg 158w,\n/static/9366721452576d77bcbd07ca5e9cd8b1/a6688/image2.jpg 315w,\n/static/9366721452576d77bcbd07ca5e9cd8b1/828fb/image2.jpg 630w,\n/static/9366721452576d77bcbd07ca5e9cd8b1/b0abb/image2.jpg 717w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"docker-composeyml-로-설치\" style=\"position:relative;\">docker-compose.yml 로 설치<a href=\"#docker-composeyml-%EB%A1%9C-%EC%84%A4%EC%B9%98\" aria-label=\"docker composeyml 로 설치 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>도커 컴포즈 파일을 이용해도 위와 똑같은 설치 환경이 구성된다.<br>\n파일 하나와 명령어 하나면 끝.</p>\n<p>docker-compose.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\">version: \"3.7\"\r\n\r\nservices:\r\n  db:\r\n    image: mysql:5.7\r\n    volumes:\r\n      - ./db_data:/var/lib/mysql\r\n    restart: always\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: 123456\r\n      MYSQL_DATABASE: wordpress\r\n      MYSQL_USER: wordpress_user\r\n      MYSQL_PASSWORD: 123456\r\n\r\n  app:\r\n    depends_on:\r\n      - db\r\n    image: wordpress:latest\r\n    volumes:\r\n      - ./app_data:/var/www/html\r\n    ports:\r\n      - \"8080:80\"\r\n    restart: always\r\n    environment:\r\n      WORDPRESS_DB_HOST: db:3306\r\n      WORDPRESS_DB_NAME: wordpress\r\n      WORDPRESS_DB_USER: wordpress_user\r\n      WORDPRESS_DB_PASSWORD: 123456\r\n</code></pre></div>\n<p>shell 명령어</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">docker-compose</span> up</code></pre></div>\n<h3 id=\"요청의-흐름\" style=\"position:relative;\">요청의 흐름<a href=\"#%EC%9A%94%EC%B2%AD%EC%9D%98-%ED%9D%90%EB%A6%84\" aria-label=\"요청의 흐름 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>예시 docker-compose 파일의 요청 흐름을 다시 정리해 보자면 아래와 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7ac2dcf05274afca744cc6e8c5f63949/29d31/image3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 103.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMFBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyPMNJMZ4Kg/8QAGxABAAICAwAAAAAAAAAAAAAAAQASAiEDERP/2gAIAQEAAQUCtMRM5y2vlfxiK9aHX//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACAQAAAFAwUAAAAAAAAAAAAAAAABAhASESFxIjEyQZH/2gAIAQEABj8CFVKLxtMtugi6pNyMsCkjy3//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRcaH/2gAIAQEAAT8hRdfYgYHgKSxjqtTOO5cXI3NglsvXqQtNFPLWIAuf/9oADAMBAAIAAwAAABDAxzz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAfEAEBAAICAgMBAAAAAAAAAAABEQAhMVFBkWFxweH/2gAIAQEAAT8Q1NjLpqY1mm+t9qt9YEo4tjl7iVf5hHwUhdud3rOUefzFhr8kPvNuo6exlEGEry/Ln//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"도커\"\n        title=\"도커\"\n        src=\"/static/7ac2dcf05274afca744cc6e8c5f63949/828fb/image3.jpg\"\n        srcset=\"/static/7ac2dcf05274afca744cc6e8c5f63949/ff44c/image3.jpg 158w,\n/static/7ac2dcf05274afca744cc6e8c5f63949/a6688/image3.jpg 315w,\n/static/7ac2dcf05274afca744cc6e8c5f63949/828fb/image3.jpg 630w,\n/static/7ac2dcf05274afca744cc6e8c5f63949/29d31/image3.jpg 700w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>웹브라우저에서 8080 포트로 서버에 요청을 보낸다</p>\n</li>\n<li>\n<p>app 컨테이너에서 열어둔 80 포트로 들어와 php를 타고 /var/www/html/ 파일을 읽어들인다</p>\n</li>\n<li>\n<p>/var/www/html 폴더는 호스트의 /app_data 폴더와 연결되어 있으므로 개발자가 적어둔 db 정보를 가져온다</p>\n</li>\n<li>\n<p>app 컨테이너는 wordpress_net 네트워크를 통해 3306 포트로 열려있는 db 컨테이너의 mysql 서버로 요청을 보낸다</p>\n</li>\n<li>\n<p>db 컨테이너의 /var/lib/mysql 폴더는 호스트의 /db_data 폴더와 연결되어 있으므로 개발자가 적어둔 mysql 정보를 가져와 mysql에 연결 후 결과를 app 컨테이너에게 돌려준다</p>\n</li>\n</ul>","frontmatter":{"title":"생활코딩 Docker compose를 이용해 복잡한 도커 컨테이너 제어하기","date":"2022-01-31","description":null,"tags":["docker"]},"tableOfContents":"<ul>\n<li><a href=\"#%EC%98%88%EC%8B%9C-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4\">예시 시나리오</a></li>\n<li><a href=\"#shell%EB%A1%9C-%EC%84%A4%EC%B9%98\">shell로 설치</a></li>\n<li><a href=\"#docker-composeyml-%EB%A1%9C-%EC%84%A4%EC%B9%98\">docker-compose.yml 로 설치</a></li>\n<li><a href=\"#%EC%9A%94%EC%B2%AD%EC%9D%98-%ED%9D%90%EB%A6%84\">요청의 흐름</a></li>\n</ul>"},"previous":{"fields":{"slug":"/project/work/nignx_500_error/"},"frontmatter":{"title":"nginx 500 permission error"}},"next":{"fields":{"slug":"/setting/react/without-CRA/"},"frontmatter":{"title":"React 프로젝트 CRA 없이 세팅하기"}}},"pageContext":{"id":"143ab3ac-c5fb-546a-9b9a-d86db8f5d3a2","previousPostId":"8fc31bab-673a-5c0f-a976-9465fe0b2b0e","nextPostId":"d9d5a54d-2189-517f-b875-b8494974bbe8"}},"staticQueryHashes":["2841359383","3708219967"]}